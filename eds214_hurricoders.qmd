---
title: "Group Project"
format: html
editor_options: 
  chunk_output_type: console
---

```{r}
library(tidyverse)
library(here)
library(janitor)
library(lubridate)
```

# Investigating the impact of Hurricane Hugo on Stream Chemistry data in Luquillo

## Reading in our data ----

```{r}
q1_site <- read_csv(here("/courses/EDS214/group_project/2024/hurricoders/raw_data/", "QuebradaCuenca1-Bisley.csv"))

q2_site <- read_csv(here("/courses/EDS214/group_project/2024/hurricoders/raw_data/", "QuebradaCuenca2-Bisley.csv"))

q3_site <- read_csv(here("/courses/EDS214/group_project/2024/hurricoders/raw_data/", "QuebradaCuenca3-Bisley.csv"))

prm_site <- read_csv(here("/courses/EDS214/group_project/2024/hurricoders/raw_data/", "RioMameyesPuenteRoto.csv"))
```

## Joining our data ----

Using 'full_join()' to merge all of our site data.

```{r}
all_sites <- q1_site |>
  full_join(q2_site) |>
  full_join(q3_site) |>
  full_join(prm_site)
```

## Cleaning our data ----

```{r}
chem_sites <- all_sites |>
  select('NO3-N', 'K', 'Sample_ID', 'Sample_Date') |>
  na.omit() |>
  mutate(year = year(Sample_Date)) |>
    filter(year %in% c(1984:1994)) |>
  clean_names()
```

```{r}
ggplot(chem_sites, aes(x = sample_date)) + 
  geom_line(aes(y = no3_n, color = sample_id)) +
  labs(
    x = "Year",
    y = "Values",
    title = "Trends of 'k' and 'no3' Over Years by Site"
  ) +
  facet_wrap(~sample_id, ncol = 1) +
  theme_minimal()
```









